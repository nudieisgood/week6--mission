import{_ as f,g as h,r as c,c as d,b as s,d as v,e as w,s as g,f as l,v as p,o as u,p as b,k as x}from"./index-2rkQtbbg.js";import{a as k}from"./axios-G2rPRu76.js";const r=n=>(b("data-v-905b47f7"),n=n(),x(),n),y={class:"container"},V={class:"row justify-content-center"},S=r(()=>s("h1",{class:"h3 mb-3 font-weight-normal"},"請先登入",-1)),I={key:0,class:"text-danger"},B={class:"col-8"},D={class:"form-floating mb-3"},M=r(()=>s("label",{for:"username"},"Email address",-1)),$={class:"form-floating"},q=r(()=>s("label",{for:"password"},"Password",-1)),E=r(()=>s("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1)),L={__name:"LoginView",setup(n){const m=h(),o=c({username:"",password:""}),i=c(""),_=async()=>{k.post("https://vue3-course-api.hexschool.io/v2/admin/signin",o.value).then(t=>{const e=t.data.token,a=t.data.expired;document.cookie=`token=${e}`,document.cookie=`expDate=${a}`,m.push("/admin/products")}).catch(t=>{i.value=t.data.message})};return(t,e)=>(u(),d("div",y,[s("div",V,[S,i.value?(u(),d("h3",I,v(i.value),1)):w("",!0),s("div",B,[s("form",{id:"form",class:"form-signin",onSubmit:g(_,["prevent"])},[s("div",D,[l(s("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=a=>o.value.username=a)},null,512),[[p,o.value.username]]),M]),s("div",$,[l(s("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>o.value.password=a)},null,512),[[p,o.value.password]]),q]),E],32)])])]))}},U=f(L,[["__scopeId","data-v-905b47f7"]]);export{U as default};
